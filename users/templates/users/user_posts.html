<script language="javascript" type="text/javascript">
    function open_parent_p(t) {

        a = "../../shop/" + t
        console.log(a)
        window.parent.location.href = a;
    }

    function open_parent_c(t) {

        a = "../../community/" + t
        console.log(a)
        window.parent.location.href = a;
    }

</script>
<div style="background-size:100%; ">

    <h2 style="font-family: 'Nanum Gothic Coding', sans-serif;">모든 게시물</h2>

    {%for post in Posts%}
    <hr>
    <div style="display:flex; margin: 10px 0px; height: 25vh;">
        <div style="overflow:hidden;margin:0px 30px;width:20vh; height:20vh; border-radius:10%;">
            <!-- {%if post.image%}
            <img src="{{ post.image.url }}" style="object-fit: cover; width:100%; height: 100%;" alt="사진">
            {%else%}
            <img src="../../static/images/main.png"
                style="width:15vh; height:15vh; position:relative; top:2.5vh; left:2.5vh;">
            {%endif%} -->
            {%if post.image%}
            <img src="{{ post.image.url }}" style="object-fit: cover; width:100%; height: 100%;" alt="사진">
            {%else%}
            {%if post.category == '식자재'%}
            <img src="../../static/img/default/vegetable_icon.svg"
                style=" border-radius:10%; background-color:lightgray; width:100%; height:100%;" alt="food">
            {%elif post.category == '생필품'%}
            <img src="../../static/img/default/plates_icon.svg"
                style=" border-radius:10%; background-color:lightgray; width:100%; height:100%;" alt="daily_necessity">
            {%elif post.category == 'OTT 서비스'%}
            <img src="../../static/img/default/netflix_icon.svg"
                style=" border-radius:10%; background-color:lightgray; width:100%; height:100%;" alt="ott">
            {%else%}
            <img src="../../static/img/default/etc_icon.svg"
                style=" border-radius:10%; background-color:lightgray; width:100%; height:100%;" alt="etc">
            {%endif%}
            {%endif%}
        </div>
        <div style="display:flex; flex-direction: column; justify-content: space-around;">

            <h3><a style="text-decoration:none; color:black; font-family: 'Nanum Gothic Coding', sans-serif;" href=""
                    onclick="open_parent_p({{post.id}})">{{post.title}}</a>
            </h3>
            인당가격 : {{post.price_per_person}} 원<br>
            모집인원 : {{post.people}} 명<br>
            공구 마감일 : {{post.deadline}}<br>
            작성자 : {{post.writer}} 


        </div>
    </div>

    {%endfor%}
    <hr>
</div>




<br>
<br>


<div style="background-size:100%;">

    <h2 style="font-family: 'Nanum Gothic Coding', sans-serif;"> 커뮤니티 </h2>

    {%for post in ComPosts%}
    <hr>
    <div style="display:flex; margin: 10px 0px; height: 20vh;">
        <div style="overflow:hidden;margin:0px 30px;width:20vh; height:20vh; border-radius:10%;">

            {%if post.image%}
            <img src="{{ post.image.url }}" style="object-fit: cover; width:100%; height: 100%;" alt="사진">
            {%else%}

            <img src="../../../static/img/group.png"
                style=" border-radius:10%; background-color:rgb(255, 255, 255); width:100%; height:100%;" alt="etc">

            {%endif%}
        </div>
        <div style="display:flex; flex-direction: column; justify-content: space-around;">
            <h3><a style="text-decoration:none; color:black; font-family: 'Nanum Gothic Coding', sans-serif;" href=""
                    onclick="open_parent_c({{post.id}})">{{post.title}}</a>
            </h3>
            작성자 : {{post.writer}} <br>
            {{post.pub_date}}
        </div>
    </div>
    {%endfor%}
    <hr>
</div>